<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript">
        if (location.href.endsWith("index.html")) {
            location.href = location.href.substring(0, location.href.length - "index.html".length);
        }
    </script>
    
    <title>ng</title>
    

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/default.min.css">
    <style type="text/css">
        body {
            width: 60%;
            margin: 0 auto;
            padding: 2em;
            font-family: 'Segoe UI',
                "Microsoft Yahei Light",
                "San Francisco",
                "Ping Fang SC",
                "Roboto",
                "Noto Sans CJK",
                Tahoma, Geneva, Verdana, sans-serif;
        }

        pre {
            max-width: 90%;
            overflow-x: scroll;
        }

        a {
            text-decoration: none;
            color: cornflowerblue;
        }

        a:visited {
            color: cornflowerblue;
        }

        a:hover {
            color: darkgray;
        }

        a.disabled-link {
            color: lightcoral;
            text-decoration: line-through;
        }

        nav,
        nav ul {
            display: inline-block;
        }

        .tags ul,
        footer ul {
            padding: 0;
            display: inline;
        }

        header h1 {
            display: inline-block;
            min-width: 320px;
            max-width: 50%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin: auto;
        }

        @media screen and (max-width: 1200px) {
            body {
                width: 90%;
                max-width: 720px;
                padding: 0;
                margin: 1em auto;
            }
            header h1 {
                max-width: 90%;
            }
        }

        nav li,
        .tags li,
        footer li {
            display: inline;
            border-right: 1px solid black;
            padding: 0 1em;
        }

        nav li:last-child,
        .tags li:last-child,
        footer li:last-child {
            border: none;
        }

        .post-list h3 {
            margin: 0.3em 0;
        }
    </style>
</head>

<body>

    <header>
        
        <h1 title="ng">ng</h1>
        
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/articles">Articles</a></li>
                <li><a href="/about">About</a></li>
            </ul>
        </nav>
        <hr>
        <span>Author: <a href="/about">KimmyLeo</a></span>
        <span>2020-08-25</span>
        
    </header>
    <article>
        <h1 id="ng-next-generation-programming-language">NG: Next generation Programming language</h1>
<p>This is about the detailed description of ng-lang and for now
it&#39;s still work in progress.</p>
<h2 id="core-concept">core concept</h2>
<p>ng is a programming language which may be different from today&#39;s
programming languages, it won&#39;t be object-oriented, and it is
strong and static-typed. It is also not so much like modern
functional programming language, no such FP things annoying you.
No vars, no macros, and no MONADs! and every function should
be explicitly annotated with types.</p>
<p>And ng inherites <strong>template</strong> from C++/D with much powerful
enhancement to let you do CTFE (Compile time function execution).</p>
<h2 id="types">Types</h2>
<p>Here we have to different kinds of types, everything with out
the <code>ref</code> modifier is an value type, which is on value semantics.
and ones with <code>ref</code>, is reference type, and on ref semantics.</p>
<p>Let me explain you what is this about in following details.</p>
<p>Simple type:</p>
<ul>
<li>Primitives:<ul>
<li>Num (what? float?? sorry, make it yourself!)</li>
<li>Bool</li>
<li>Char</li>
<li>Unit</li>
</ul>
</li>
<li>Composites:<ul>
<li>Tuples (a.k.a. Product types)</li>
<li>Records</li>
<li>Sum types</li>
</ul>
</li>
</ul>
<p>Parameterized type:</p>
<p>Let&#39;s say we want build a thing that may useful like an array.
which can support different type with fixed size. How could 
you represent this? I got <code>Array&lt;Int, 3&gt;</code> here.</p>
<p>The Int and 3 in <code>Array&lt;Int, 3&gt;</code> are the parameters of this
type. And for the prototype of array, should looks like</p>
<pre><code class="language-ng"><span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">Array</span></span>&lt;<span class="hljs-symbol">&#x27;t</span>, <span class="hljs-symbol">&#x27;arity</span>: Num&gt; <span class="hljs-keyword">where</span> <span class="hljs-symbol">&#x27;arity</span> &gt;= <span class="hljs-number">0</span></code></pre>
<p>The where clause is a constraints for &#39;arity parameter which
indicates that field cannot be negative.</p>
<p>Here is another syntax to do this checking</p>
<pre><code class="language-ng">type NonNegative&lt;<span class="hljs-string">&#x27;num: Num&gt; where &#x27;</span>num &gt;= 0
<span class="hljs-built_in">
type </span>Array&lt;<span class="hljs-string">&#x27;t, &#x27;</span>arity: NonNegative&gt;</code></pre>
<p>NonNegative is like typeclass / type traits / concepts in
other languages such like Haskell/C++/D.</p>
<p>Here is another constraint example in ng.</p>
<pre><code class="language-ng"><span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">ValueType</span></span>&lt;<span class="hljs-symbol">&#x27;t</span>: * <span class="hljs-symbol">&#x27;a</span>&gt; = <span class="hljs-symbol">&#x27;a</span></code></pre>
<p>Here we can use ValueType<ref Int> to represent Int now.</p>

        

    </article>
    <!-- <div>
        <h5>See Also</h5>
        <ul>
            <li><a href="/about">About Me</a></li>
        </ul>
    </div> -->
    <hr>
    <footer>
        <ul>
            <li><a href="/about">关于我</a></li>
            <li><a href="/sitemap.xml">站点地图</a></li>
            <li><a href="/rss.xml">RSS</a></li>
            <li>Copyright &copy; KimmyLeo</li>
        </ul>
    </footer>
    <script type="text/javascript">
        document.querySelectorAll(".disabled-link").forEach(el => el.addEventListener("click", (e) => {
            alert("链接页面不存在！");
            e.preventDefault();
        }))
    </script>
</body>

</html>